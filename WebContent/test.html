<!DOCTYPE html>
<html>
<head>
<style>
html, body, canvas{
	margin:0;
	padding:0;
}
</style>
</head>
<body>

<canvas id="canvas" style="border:1px solid #000000;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<button id="start">Start</button>
<button id="stop">Stop</button>

<script type="text/javascript" src="js/stats.js"></script>
<script type="text/javascript" src="js/prototypes.js"></script>
<script type="text/javascript" src="js/colors.js"></script>
<script type="text/javascript" src="js/engine.js"></script>
<script type="text/javascript" src="js/world.js"></script>
<script type="text/javascript" src="js/item.js"></script>
<script type="text/javascript" src="js/ball.js"></script>
<script type="text/javascript" src="js/bar.js"></script>

<script type="text/javascript">
(function(g, undefined){

	var world = new g.World(800,600);
	//var i = g.utils.getRandomInt(0,1023);
	/*
	for(var i=0;i<512;i++){
		var size = g.utils.getRandomInt(5,30);
		var startX = g.utils.getRandomInt(0,800 - 2*size);
		var startY = g.utils.getRandomInt(0,600 - 2*size);
		var startVx = g.utils.getRandomInt(-5,5);
		var startVy = g.utils.getRandomInt(-5,5);
		var color = g.utils.findColor(i%256);
		var ball = new g.items.Ball(size);
		ball.setPos(startX,startY);
		ball.setSpeed(startVx,startVy);
		ball.setAccel(0,0.0981);
		ball.setColor(color['hexString']);
		world.addItem(ball);
	}*/
	/*
	var ball1 = new g.items.Ball(20);
	ball1.setPos(100,100);
	ball1.setSpeed(5,0);
	ball1.setAccel(1,0);
	var ball2 = new g.items.Ball(20);
	ball2.setPos(500,100);
	ball2.setSpeed(0,0);
	ball2.setAccel(1,0);*/
	/*var item = new g.items.Item();
	item.setSize(40,40);
	item.setPos(100,100);
	item.setSpeed(0,0);
	//item.setAccel(0,0.1);*/
	/*world.addItem(ball1);
	world.addItem(ball2);*/
	
	var bar = new g.items.Bar(0, 100);
	bar.setColor('green');
	bar.setPos(200,200);
	world.addItem(bar);
	var bar2 = new g.items.Bar(0, 100);
	bar2.setColor('blue');
	bar2.setPos(200,205);
	world.addItem(bar2);
	var bar3 = new g.items.Bar(0, 100);
	bar3.setColor('yellow');
	bar3.setPos(200,210);
	world.addItem(bar3);
	var bar4 = new g.items.Bar(0, 100);
	bar4.setColor('red');
	bar4.setPos(200,215);
	world.addItem(bar4);
	
	console.log(world.getItems());
	var engine = new g.Engine(world);
	engine.render();
	/*
	var i = 0;
	function loop(){
		engine.update();
		engine.render();
		i++;
		if(i > 20){
			return;
		}
		window.setTimeout(loop , 1000);
	}
	
	window.setTimeout(loop , 1000);
		*/
	document.getElementById('start').onclick = function(){
		engine.init();
		engine.start();
	};
	document.getElementById('stop').onclick = function(){
		engine.stop();
	}

})(window.gameJs);
</script>
</body>
</html>
